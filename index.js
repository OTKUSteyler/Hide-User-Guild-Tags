(function(r,u,d,m,g,l,T){"use strict";const{Form:G,FormSection:p,FormRow:h,FormInput:H,FormDivider:w}=g.Forms;function y(){const[e,n]=React.useState(""),i=function(){const t=e.trim();if(!t)return;const s=l.storage.whitelist??[];s.includes(t)||(l.storage.whitelist=[...s,t]),n("")},o=function(t){l.storage.whitelist=(l.storage.whitelist??[]).filter(function(s){return s!==t})};return React.createElement(G,null,React.createElement(p,{title:"Whitelist User IDs (keep tag)"},React.createElement(h,{label:"Add ID",trailing:React.createElement(H,{placeholder:"123456789012345678",value:e,onChange:n}),onPress:i}),React.createElement(w,null),(l.storage.whitelist??[]).map(function(t){return React.createElement(h,{key:t,label:t,trailing:React.createElement(g.Forms.FormIcon,{source:T.getAssetId("ic_close")}),onPress:function(){return o(t)}})})))}const c=m.storage;c.whitelist||(c.whitelist=[]);const f=function(e){const n=c.whitelist??[];return e?!n.includes(e):!0};let a=[];const U=function(){console.log("[HideGuildTags] Starting plugin...");try{try{const e=d.findByProps("GuildTag");if(e?.GuildTag){const n=u.after("GuildTag",e,function(i,o){try{const t=i?.[0]?.user;return t&&f(t.id)?null:o}catch(t){return console.error("[HideGuildTags] GuildTag patch error:",t),o}});a.push(n),console.log("[HideGuildTags] \u2713 Patched GuildTag")}else console.warn("[HideGuildTags] \u26A0 GuildTag module not found")}catch(e){console.error("[HideGuildTags] Failed to patch GuildTag:",e)}try{const e=d.findByProps("Username");if(e?.Username){const n=u.after("Username",e,function(i,o){try{const t=i?.[0]?.user;return o?.props?.guildTag&&t&&f(t.id)&&(o.props.guildTag=null),o}catch(t){return console.error("[HideGuildTags] Username patch error:",t),o}});a.push(n),console.log("[HideGuildTags] \u2713 Patched Username")}else console.warn("[HideGuildTags] \u26A0 Username module not found")}catch(e){console.error("[HideGuildTags] Failed to patch Username:",e)}console.log("[HideGuildTags] \u2713 Plugin loaded successfully")}catch(e){throw console.error("[HideGuildTags] Critical load error:",e),e}},F=function(){console.log("[HideGuildTags] Unloading plugin...");try{a.forEach(function(e,n){try{typeof e=="function"&&e()}catch(i){console.warn(`[HideGuildTags] Failed to unpatch ${n}:`,i)}}),a=[],console.log("[HideGuildTags] \u2713 Plugin unloaded cleanly")}catch(e){console.error("[HideGuildTags] Unload error:",e)}};return r.onLoad=U,r.onUnload=F,r.settings=y,r})({},vendetta.patcher,vendetta.metro,vendetta.plugin,vendetta.ui,vendetta.storage,vendetta.ui.assets);
