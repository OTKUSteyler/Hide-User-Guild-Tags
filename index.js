(function(a,r,u,s,d,h){"use strict";const{Form:m,FormSection:p,FormRow:g,FormInput:T,FormDivider:G}=d.Forms;function w(){const[e,o]=React.useState(""),i=function(){const t=e.trim();if(!t)return;const n=s.storage.whitelist??[];n.includes(t)||(s.storage.whitelist=[...n,t]),o("")},l=function(t){s.storage.whitelist=(s.storage.whitelist??[]).filter(function(n){return n!==t})};return React.createElement(m,null,React.createElement(p,{title:"Whitelist User IDs (keep tag)"},React.createElement(g,{label:"Add ID",trailing:React.createElement(T,{placeholder:"123456789012345678",value:e,onChange:o}),onPress:i}),React.createElement(G,null),(s.storage.whitelist??[]).map(function(t){return React.createElement(g,{key:t,label:t,trailing:React.createElement(d.Forms.FormIcon,{source:h.getAssetId("ic_close")}),onPress:function(){return l(t)}})})))}const c={patches:[]};s.storage.whitelist??=[];const f=function(e){const o=s.storage.whitelist??[];return e?!o.includes(e):!0},R=function(){try{const e=u.findByProps("GuildTag");if(e?.GuildTag){const i=r.after("GuildTag",e,function(l,t){const n=l?.[0]?.user;return n&&f(n.id)?null:t});c.patches.push(i),console.log("[HideGuildTags] Patched GuildTag")}else console.warn("[HideGuildTags] GuildTag not found");const o=u.findByProps("Username");if(o?.Username){const i=r.after("Username",o,function(l,t){const n=l?.[0]?.user;return t?.props?.guildTag&&n&&f(n.id)&&(t.props.guildTag=null),t});c.patches.push(i),console.log("[HideGuildTags] Patched Username")}else console.warn("[HideGuildTags] Username not found");console.log("[HideGuildTags] Loaded successfully")}catch(e){console.error("[HideGuildTags] Load error:",e)}},U=function(){try{c.patches.forEach(function(e,o){try{typeof e=="function"&&e()}catch(i){console.warn(`[HideGuildTags] Failed to unpatch ${o}:`,i)}}),c.patches=[],console.log("[HideGuildTags] Unloaded cleanly")}catch(e){console.error("[HideGuildTags] Unload error (ignored):",e)}},y=w;return a.onLoad=R,a.onUnload=U,a.patcher=c,a.settings=y,a})({},vendetta.patcher,vendetta.metro,vendetta.storage,vendetta.ui,vendetta.ui.assets);
