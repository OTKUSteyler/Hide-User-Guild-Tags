(function(l,d,c,g,f,r,T){"use strict";const{Form:U,FormSection:G,FormRow:m,FormInput:y,FormDivider:R}=f.Forms;function w(){const[e,n]=React.useState(""),s=function(){const t=e.trim();if(!t)return;const o=r.storage.whitelist??[];o.includes(t)||(r.storage.whitelist=[...o,t]),n("")},i=function(t){r.storage.whitelist=(r.storage.whitelist??[]).filter(function(o){return o!==t})};return React.createElement(U,null,React.createElement(G,{title:"Whitelist User IDs (keep tag)"},React.createElement(m,{label:"Add ID",trailing:React.createElement(y,{placeholder:"123456789012345678",value:e,onChange:n}),onPress:s}),React.createElement(R,null),(r.storage.whitelist??[]).map(function(t){return React.createElement(m,{key:t,label:t,trailing:React.createElement(f.Forms.FormIcon,{source:T.getAssetId("ic_close")}),onPress:function(){return i(t)}})})))}let u=[];g.storage.whitelist??=[];const h=function(e){const n=g.storage.whitelist??[];return e?!n.includes(e):!0},p=function(e){for(const n of c.chunks())for(const s of n)if(e.every(function(i){return s.toString().includes(i)}))return s;return null},E=function(){try{let e=c.findByPropsLazy(["UserGuildTag","renderGuildTag"]);if(e||(e=p(["UserGuildTag","user?.id","guild_id"])),e?.default||e?.UserGuildTag){const s=e.default||e.UserGuildTag,i=d.patch(s,"type"in s?"type":"default",function(t,o){const a=t[0]?.user||t[0]?.props?.user;return a&&h(a.id)?null:o});u.push(i),console.log("[HideGuildTags] Patched UserGuildTag")}else console.warn("[HideGuildTags] UserGuildTag not found");let n=c.findByPropsLazy(["MessageUsername","renderTag"]);if(n||(n=p(["MessageUsername","guildTag","user.id"])),n?.default||n?.MessageUsername){const s=n.default||n.MessageUsername,i=d.patch(s,"type"in s?"type":"default",function(t,o){const a=t[0]?.user||t[0]?.props?.user;return o?.props?.guildTag&&a&&h(a.id)&&(o.props.guildTag=null),o});u.push(i),console.log("[HideGuildTags] Patched MessageUsername")}else console.warn("[HideGuildTags] MessageUsername not found");console.log("[HideGuildTags] Loaded in Revenge")}catch(e){console.error("[HideGuildTags] Load error:",e)}},F=function(){u.forEach(function(e){try{e()}catch{}}),u=[],console.log("[HideGuildTags] Unloaded")},v=w;return l.onLoad=E,l.onUnload=F,l.settings=v,l})({},patcher,metro,storage$1,vendetta.ui,vendetta.storage,vendetta.ui.assets);
