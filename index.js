(function(f,g,d,h,l,G){"use strict";const{View:p,Text:c,TextInput:b,TouchableOpacity:T,ScrollView:w,StyleSheet:H}=l.ReactNative;function R(){G.useProxy(h.storage);const e=h.storage;e.whitelist||(e.whitelist=[]);const[n,r]=l.React.useState(""),t=function(){const a=n.trim();a&&(e.whitelist.includes(a)||(e.whitelist.push(a),r("")))},o=function(a){e.whitelist=e.whitelist.filter(function(E){return E!==a})},i=H.create({container:{flex:1,padding:16,backgroundColor:"#1e1e1e"},section:{marginBottom:24},sectionTitle:{fontSize:14,fontWeight:"600",color:"#b9bbbe",marginBottom:8,textTransform:"uppercase"},card:{backgroundColor:"#2f3136",borderRadius:8,padding:12,marginBottom:8},input:{backgroundColor:"#202225",color:"#dcddde",borderRadius:4,padding:12,fontSize:16,marginBottom:8},button:{backgroundColor:"#5865f2",borderRadius:4,padding:12,alignItems:"center"},buttonDisabled:{backgroundColor:"#4e5058"},buttonText:{color:"#ffffff",fontSize:16,fontWeight:"600"},userRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#2f3136",borderRadius:8,padding:12,marginBottom:8},userId:{color:"#dcddde",fontSize:16,flex:1},removeButton:{backgroundColor:"#ed4245",borderRadius:4,padding:8,paddingHorizontal:12},removeButtonText:{color:"#ffffff",fontSize:14,fontWeight:"600"},emptyText:{color:"#72767d",fontSize:14,textAlign:"center",padding:16}});return l.React.createElement(w,{style:i.container},l.React.createElement(p,{style:i.section},l.React.createElement(c,{style:i.sectionTitle},"Add User to Whitelist"),l.React.createElement(p,{style:i.card},l.React.createElement(b,{style:i.input,value:n,onChangeText:r,placeholder:"Enter User ID",placeholderTextColor:"#72767d"}),l.React.createElement(T,{style:[i.button,!n.trim()&&i.buttonDisabled],onPress:t,disabled:!n.trim()},l.React.createElement(c,{style:i.buttonText},"Add User")))),l.React.createElement(p,{style:i.section},l.React.createElement(c,{style:i.sectionTitle},"Whitelisted Users (",e.whitelist.length,")"),e.whitelist.length===0?l.React.createElement(c,{style:i.emptyText},"No users whitelisted",`
`,"Guild tags hidden for all users"):e.whitelist.map(function(a){return l.React.createElement(p,{key:a,style:i.userRow},l.React.createElement(c,{style:i.userId},a),l.React.createElement(T,{style:i.removeButton,onPress:function(){return o(a)}},l.React.createElement(c,{style:i.removeButtonText},"Remove")))})))}const y=h.storage;y.whitelist||(y.whitelist=[]);const u=function(e){const n=y.whitelist??[];return e?!n.includes(e):!0};let s=[];const m=function(){console.log("[HideGuildTags] Starting mobile plugin...");try{try{const e=d.findByDisplayName("GuildTag");if(e){const n=g.after("render",e.prototype,function(r,t){try{const o=this.props?.user?.id||this.props?.userId;return o&&u(o)?null:t}catch{return t}});s.push(n),console.log("[HideGuildTags] \u2713 Patched GuildTag component")}else console.warn("[HideGuildTags] \u26A0 GuildTag component not found")}catch(e){console.log("[HideGuildTags] GuildTag patch failed:",e)}try{const e=d.findByName("GuildTag");if(e){const n=g.after("type",e,function(r,t){try{const o=r?.[0]?.user?.id||r?.[0]?.userId;return o&&u(o)?null:t}catch{return t}});s.push(n),console.log("[HideGuildTags] \u2713 Patched GuildTag by name")}}catch{console.log("[HideGuildTags] GuildTag name search failed")}try{const e=d.findByProps("GuildBadge","default");if(e?.GuildBadge){const n=g.after("GuildBadge",e,function(r,t){try{const o=r?.[0]?.userId||r?.[0]?.user?.id;return o&&u(o)?null:t}catch{return t}});s.push(n),console.log("[HideGuildTags] \u2713 Patched GuildBadge")}}catch{console.log("[HideGuildTags] GuildBadge patch failed")}try{const e=d.findByDisplayName("User");if(e){const n=g.after("render",e.prototype,function(r,t){try{if(t?.props){const o=this.props?.user?.id||this.props?.userId;o&&u(o)&&t.props.guildTag&&(t.props.guildTag=null)}return t}catch{return t}});s.push(n),console.log("[HideGuildTags] \u2713 Patched User component")}}catch{console.log("[HideGuildTags] User component patch failed")}try{const e=d.findByProps("default");if(e?.default?.prototype?.render){const n=e.default.prototype.render;e.default.prototype.render=function(...r){const t=n.apply(this,r);try{if(t?.props?.guildTag){const o=this.props?.user?.id||this.props?.userId;o&&u(o)&&(t.props.guildTag=null)}}catch{}return t},s.push(function(){e.default.prototype.render=n}),console.log("[HideGuildTags] \u2713 Patched default component renders")}}catch{console.log("[HideGuildTags] Default component patch failed")}try{const e=d.findByProps("guildTag");e&&(console.log("[HideGuildTags] Found guildTag module with keys:",Object.keys(e)),Object.keys(e).forEach(function(n){if(typeof e[n]=="function")try{const r=g.after(n,e,function(t,o){try{const i=t?.[0]?.userId||t?.[0]?.user?.id||t?.[0];return i&&u(i)?null:o}catch{return o}});s.push(r),console.log(`[HideGuildTags] \u2713 Patched guildTag.${n}`)}catch{}}))}catch{console.log("[HideGuildTags] guildTag module search failed")}console.log("[HideGuildTags] \u2713 Plugin loaded"),console.log(`[HideGuildTags] Applied ${s.length} patches`),s.length===0&&(console.warn("[HideGuildTags] \u26A0 WARNING: No patches applied!"),console.warn("[HideGuildTags] Guild tags will still be visible."),console.warn("[HideGuildTags] Please report this to the developer."))}catch(e){console.error("[HideGuildTags] Critical error:",e)}},B=function(){console.log("[HideGuildTags] Unloading...");try{s.forEach(function(e,n){try{typeof e=="function"&&e()}catch(r){console.warn(`[HideGuildTags] Failed to unpatch ${n}:`,r)}}),s=[],console.log("[HideGuildTags] \u2713 Unloaded cleanly")}catch(e){console.error("[HideGuildTags] Unload error:",e)}};return f.onLoad=m,f.onUnload=B,f.settings=R,f})({},vendetta.patcher,vendetta.metro,vendetta.plugin,vendetta.metro.common,vendetta.storage);
