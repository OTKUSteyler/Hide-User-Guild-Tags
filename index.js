(function(a,l,c,m,u,s,h){"use strict";const{Form:T,FormSection:p,FormRow:d,FormInput:G,FormDivider:w}=u.Forms;function v(){const[o,t]=React.useState(""),i=function(){const e=o.trim();if(!e)return;const n=s.storage.whitelist??[];n.includes(e)||(s.storage.whitelist=[...n,e]),t("")},r=function(e){s.storage.whitelist=(s.storage.whitelist??[]).filter(function(n){return n!==e})};return React.createElement(T,null,React.createElement(p,{title:"Whitelist User IDs (keep tag)"},React.createElement(d,{label:"Add ID",trailing:React.createElement(G,{placeholder:"123456789012345678",value:o,onChange:t}),onPress:i}),React.createElement(w,null),(s.storage.whitelist??[]).map(function(e){return React.createElement(d,{key:e,label:e,trailing:React.createElement(u.Forms.FormIcon,{source:h.getAssetId("ic_close")}),onPress:function(){return r(e)}})})))}const g=m.storage;g.whitelist??=[];const f=function(o){const t=g.whitelist??[];return o?!t.includes(o):!0};var y={onLoad:function(){const o=[];try{const t=c.findByProps("GuildTag");t?.GuildTag?(o.push(l.after("GuildTag",t,function(r,e){const n=r?.[0]?.user;return n&&f(n.id)?null:e})),console.log("[HideGuildTags] Patched GuildTag")):console.warn("[HideGuildTags] GuildTag not found");const i=c.findByProps("Username");i?.Username?(o.push(l.after("Username",i,function(r,e){const n=r?.[0]?.user;return e?.props?.guildTag&&n&&f(n.id)&&(e.props.guildTag=null),e})),console.log("[HideGuildTags] Patched Username")):console.warn("[HideGuildTags] Username not found"),console.log("[HideGuildTags] Loaded successfully")}catch(t){console.error("[HideGuildTags] Load error:",t)}return function(){try{o.forEach(function(t,i){try{typeof t=="function"&&t()}catch(r){console.warn(`[HideGuildTags] Failed to unpatch ${i}:`,r)}}),console.log("[HideGuildTags] Unloaded cleanly")}catch(t){console.error("[HideGuildTags] Unload error (ignored):",t)}}},settings:v};return a.default=y,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.patcher,vendetta.metro,vendetta.plugin,vendetta.ui,vendetta.storage,vendetta.ui.assets);
