(function(s,g,h,c,t,G,w){"use strict";const{FormRow:u,FormSection:T,FormInput:p}=w.Forms;function y(){G.useProxy(c.storage);const e=c.storage;e.whitelist||(e.whitelist=[]);const[i,r]=t.React.useState(""),a=function(){i.trim()&&(e.whitelist.includes(i.trim())||(e.whitelist.push(i.trim()),r("")))},l=function(n){e.whitelist=e.whitelist.filter(function(U){return U!==n})};return t.React.createElement(t.ReactNative.ScrollView,{style:{flex:1}},t.React.createElement(T,{title:"Whitelist Users"},t.React.createElement(u,{label:"Add User ID",subLabel:"Enter user ID to whitelist (show their guild tags)",trailing:t.React.createElement(t.ReactNative.TouchableOpacity,{onPress:a},t.React.createElement(t.ReactNative.Text,{style:{color:"#5865F2"}},"Add"))}),t.React.createElement(p,{value:i,onChange:r,placeholder:"User ID"})),t.React.createElement(T,{title:"Whitelisted Users"},e.whitelist.length===0?t.React.createElement(u,{label:"No users whitelisted"}):e.whitelist.map(function(n){return t.React.createElement(u,{key:n,label:n,trailing:t.React.createElement(t.ReactNative.TouchableOpacity,{onPress:function(){return l(n)}},t.React.createElement(t.ReactNative.Text,{style:{color:"#ED4245"}},"Remove"))})})))}const d=c.storage;d.whitelist||(d.whitelist=[]);const f=function(e){const i=d.whitelist??[];return e?!i.includes(e):!0};let o=[];const R=function(){console.log("[HideGuildTags] Starting plugin...");try{try{const e=h.findByProps("GuildTag");if(e?.GuildTag){const i=g.after("GuildTag",e,function(r,a){try{const l=r?.[0]?.user;return l&&f(l.id)?null:a}catch(l){return console.error("[HideGuildTags] GuildTag patch error:",l),a}});o.push(i),console.log("[HideGuildTags] \u2713 Patched GuildTag")}else console.warn("[HideGuildTags] \u26A0 GuildTag module not found")}catch(e){console.error("[HideGuildTags] Failed to patch GuildTag:",e)}try{const e=h.findByProps("Username");if(e?.Username){const i=g.after("Username",e,function(r,a){try{const l=r?.[0]?.user;return a?.props?.guildTag&&l&&f(l.id)&&(a.props.guildTag=null),a}catch(l){return console.error("[HideGuildTags] Username patch error:",l),a}});o.push(i),console.log("[HideGuildTags] \u2713 Patched Username")}else console.warn("[HideGuildTags] \u26A0 Username module not found")}catch(e){console.error("[HideGuildTags] Failed to patch Username:",e)}console.log("[HideGuildTags] \u2713 Plugin loaded successfully")}catch(e){throw console.error("[HideGuildTags] Critical load error:",e),e}},H=function(){console.log("[HideGuildTags] Unloading plugin...");try{o.forEach(function(e,i){try{typeof e=="function"&&e()}catch(r){console.warn(`[HideGuildTags] Failed to unpatch ${i}:`,r)}}),o=[],console.log("[HideGuildTags] \u2713 Plugin unloaded cleanly")}catch(e){console.error("[HideGuildTags] Unload error:",e)}};return s.onLoad=R,s.onUnload=H,s.settings=y,s})({},vendetta.patcher,vendetta.metro,vendetta.plugin,vendetta.metro.common,vendetta.storage,vendetta.ui.components);
